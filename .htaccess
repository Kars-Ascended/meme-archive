RewriteEngine On

# Don't apply rule to existing files or directories
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# If URL doesn't start with /pages/, redirect to /pages/
RewriteCond %{REQUEST_URI} !^/pages/
RewriteRule ^(.*)$ /pages/$1 [L]

# Remove /pages/ from URL
RewriteCond %{THE_REQUEST} /pages/([^\s?]*) [NC]
RewriteRule ^ /%1 [L,R=301,NE]